"use strict";var Mi=Object.create;var rt=Object.defineProperty;var Fi=Object.getOwnPropertyDescriptor;var Bi=Object.getOwnPropertyNames;var ki=Object.getPrototypeOf,Gi=Object.prototype.hasOwnProperty;var M=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Vi=(e,t)=>{for(var r in t)rt(e,r,{get:t[r],enumerable:!0})},Sr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Bi(t))!Gi.call(e,i)&&i!==r&&rt(e,i,{get:()=>t[i],enumerable:!(n=Fi(t,i))||n.enumerable});return e};var ve=(e,t,r)=>(r=e!=null?Mi(ki(e)):{},Sr(t||!e||!e.__esModule?rt(r,"default",{value:e,enumerable:!0}):r,e)),Wi=e=>Sr(rt({},"__esModule",{value:!0}),e);var nt=b(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.toCommandProperties=Ne.toCommandValue=void 0;function Xi(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}Ne.toCommandValue=Xi;function Ji(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}Ne.toCommandProperties=Ji});var Ir=b(Q=>{"use strict";var Hi=Q&&Q.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zi=Q&&Q.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Yi=Q&&Q.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Hi(t,e,r);return zi(t,e),t};Object.defineProperty(Q,"__esModule",{value:!0});Q.issue=Q.issueCommand=void 0;var Ki=Yi(require("os")),Ar=nt();function br(e,t,r){let n=new Pt(e,t,r);process.stdout.write(n.toString()+Ki.EOL)}Q.issueCommand=br;function Qi(e,t=""){br(e,{},t)}Q.issue=Qi;var Tr="::",Pt=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=Tr+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:t+=",",t+=`${n}=${es(i)}`)}}return t+=`${Tr}${Zi(this.message)}`,t}};function Zi(e){return Ar.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function es(e){return Ar.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function Xe(){return it>st.length-16&&(Pr.default.randomFillSync(st),it=0),st.slice(it,it+=16)}var Pr,st,it,xt=M(()=>{Pr=ve(require("crypto")),st=new Uint8Array(256),it=st.length});var xr,Nr=M(()=>{xr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function ts(e){return typeof e=="string"&&xr.test(e)}var ye,Je=M(()=>{Nr();ye=ts});function rs(e,t=0){let r=(U[e[t+0]]+U[e[t+1]]+U[e[t+2]]+U[e[t+3]]+"-"+U[e[t+4]]+U[e[t+5]]+"-"+U[e[t+6]]+U[e[t+7]]+"-"+U[e[t+8]]+U[e[t+9]]+"-"+U[e[t+10]]+U[e[t+11]]+U[e[t+12]]+U[e[t+13]]+U[e[t+14]]+U[e[t+15]]).toLowerCase();if(!ye(r))throw TypeError("Stringified UUID is invalid");return r}var U,Ee,He=M(()=>{Je();U=[];for(let e=0;e<256;++e)U.push((e+256).toString(16).substr(1));Ee=rs});function ns(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let s=e.node||Lr,o=e.clockseq!==void 0?e.clockseq:Nt;if(s==null||o==null){let p=e.random||(e.rng||Xe)();s==null&&(s=Lr=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),o==null&&(o=Nt=(p[6]<<8|p[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:Dt+1,c=a-Lt+(l-Dt)/1e4;if(c<0&&e.clockseq===void 0&&(o=o+1&16383),(c<0||a>Lt)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Lt=a,Dt=l,Nt=o,a+=122192928e5;let u=((a&268435455)*1e4+l)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let p=0;p<6;++p)i[n+p]=s[p];return t||Ee(i)}var Lr,Nt,Lt,Dt,Dr,Cr=M(()=>{xt();He();Lt=0,Dt=0;Dr=ns});function is(e){if(!ye(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var ot,Ct=M(()=>{Je();ot=is});function ss(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function at(e,t,r){function n(i,s,o,a){if(typeof i=="string"&&(i=ss(i)),typeof s=="string"&&(s=ot(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,o){a=a||0;for(let c=0;c<16;++c)o[a+c]=l[c];return o}return Ee(l)}try{n.name=e}catch{}return n.DNS=os,n.URL=as,n}var os,as,qt=M(()=>{He();Ct();os="6ba7b810-9dad-11d1-80b4-00c04fd430c8",as="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function cs(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),qr.default.createHash("md5").update(e).digest()}var qr,Ur,$r=M(()=>{qr=ve(require("crypto"));Ur=cs});var us,jr,Mr=M(()=>{qt();$r();us=at("v3",48,Ur),jr=us});function ls(e,t,r){e=e||{};let n=e.random||(e.rng||Xe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Ee(n)}var Fr,Br=M(()=>{xt();He();Fr=ls});function fs(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),kr.default.createHash("sha1").update(e).digest()}var kr,Gr,Vr=M(()=>{kr=ve(require("crypto"));Gr=fs});var ds,Wr,Xr=M(()=>{qt();Vr();ds=at("v5",80,Gr),Wr=ds});var Jr,Hr=M(()=>{Jr="00000000-0000-0000-0000-000000000000"});function hs(e){if(!ye(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var zr,Yr=M(()=>{Je();zr=hs});var Kr={};Vi(Kr,{NIL:()=>Jr,parse:()=>ot,stringify:()=>Ee,v1:()=>Dr,v3:()=>jr,v4:()=>Fr,v5:()=>Wr,validate:()=>ye,version:()=>zr});var Qr=M(()=>{Cr();Mr();Br();Xr();Hr();Yr();Je();He();Ct()});var rn=b(Z=>{"use strict";var ps=Z&&Z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ms=Z&&Z.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),en=Z&&Z.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&ps(t,e,r);return ms(t,e),t};Object.defineProperty(Z,"__esModule",{value:!0});Z.prepareKeyValueMessage=Z.issueFileCommand=void 0;var Zr=en(require("fs")),Ut=en(require("os")),vs=(Qr(),Wi(Kr)),tn=nt();function ys(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!Zr.existsSync(r))throw new Error(`Missing file at path: ${r}`);Zr.appendFileSync(r,`${tn.toCommandValue(t)}${Ut.EOL}`,{encoding:"utf8"})}Z.issueFileCommand=ys;function Es(e,t){let r=`ghadelimiter_${vs.v4()}`,n=tn.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${Ut.EOL}${n}${Ut.EOL}${r}`}Z.prepareKeyValueMessage=Es});var sn=b(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.checkBypass=Le.getProxyUrl=void 0;function gs(e){let t=e.protocol==="https:";if(nn(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Le.getProxyUrl=gs;function nn(e){if(!e.hostname)return!1;let t=e.hostname;if(_s(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let i=[e.hostname.toUpperCase()];typeof n=="number"&&i.push(`${i[0]}:${n}`);for(let s of r.split(",").map(o=>o.trim().toUpperCase()).filter(o=>o))if(s==="*"||i.some(o=>o===s||o.endsWith(`.${s}`)||s.startsWith(".")&&o.endsWith(`${s}`)))return!0;return!1}Le.checkBypass=nn;function _s(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var un=b(De=>{"use strict";var $u=require("net"),ws=require("tls"),$t=require("http"),on=require("https"),Os=require("events"),ju=require("assert"),Rs=require("util");De.httpOverHttp=Ss;De.httpsOverHttp=Ts;De.httpOverHttps=As;De.httpsOverHttps=bs;function Ss(e){var t=new de(e);return t.request=$t.request,t}function Ts(e){var t=new de(e);return t.request=$t.request,t.createSocket=an,t.defaultPort=443,t}function As(e){var t=new de(e);return t.request=on.request,t}function bs(e){var t=new de(e);return t.request=on.request,t.createSocket=an,t.defaultPort=443,t}function de(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||$t.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,i,s,o){for(var a=cn(i,s,o),l=0,c=t.requests.length;l<c;++l){var u=t.requests[l];if(u.host===a.host&&u.port===a.port){t.requests.splice(l,1),u.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}Rs.inherits(de,Os.EventEmitter);de.prototype.addRequest=function(t,r,n,i){var s=this,o=jt({request:t},s.options,cn(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",l),a.on("close",c),a.on("agentRemove",c),t.onSocket(a);function l(){s.emit("free",a,o)}function c(u){s.removeSocket(a),a.removeListener("free",l),a.removeListener("close",c),a.removeListener("agentRemove",c)}})};de.prototype.createSocket=function(t,r){var n=this,i={};n.sockets.push(i);var s=jt({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),ge("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",l),o.once("connect",c),o.once("error",u),o.end();function a(f){f.upgrade=!0}function l(f,p,x){process.nextTick(function(){c(f,p,x)})}function c(f,p,x){if(o.removeAllListeners(),p.removeAllListeners(),f.statusCode!==200){ge("tunneling socket could not be established, statusCode=%d",f.statusCode),p.destroy();var Y=new Error("tunneling socket could not be established, statusCode="+f.statusCode);Y.code="ECONNRESET",t.request.emit("error",Y),n.removeSocket(i);return}if(x.length>0){ge("got illegal response body from proxy"),p.destroy();var Y=new Error("got illegal response body from proxy");Y.code="ECONNRESET",t.request.emit("error",Y),n.removeSocket(i);return}return ge("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=p,r(p)}function u(f){o.removeAllListeners(),ge(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var p=new Error("tunneling socket could not be established, cause="+f.message);p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(i)}};de.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function an(e,t){var r=this;de.prototype.createSocket.call(r,e,function(n){var i=e.request.getHeader("host"),s=jt({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):e.host}),o=ws.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,t(o)})}function cn(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function jt(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var a=i[s];n[a]!==void 0&&(e[a]=n[a])}}return e}var ge;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?ge=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:ge=function(){};De.debug=ge});var fn=b((Fu,ln)=>{ln.exports=un()});var hn=b(I=>{"use strict";var Is=I&&I.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ps=I&&I.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dt=I&&I.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Is(t,e,r);return Ps(t,e),t},C=I&&I.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(I,"__esModule",{value:!0});I.HttpClient=I.isHttps=I.HttpClientResponse=I.HttpClientError=I.getProxyUrl=I.MediaTypes=I.Headers=I.HttpCodes=void 0;var ct=dt(require("http")),Mt=dt(require("https")),dn=dt(sn()),ut=dt(fn()),ie;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(ie=I.HttpCodes||(I.HttpCodes={}));var F;(function(e){e.Accept="accept",e.ContentType="content-type"})(F=I.Headers||(I.Headers={}));var _e;(function(e){e.ApplicationJson="application/json"})(_e=I.MediaTypes||(I.MediaTypes={}));function xs(e){let t=dn.getProxyUrl(new URL(e));return t?t.href:""}I.getProxyUrl=xs;var Ns=[ie.MovedPermanently,ie.ResourceMoved,ie.SeeOther,ie.TemporaryRedirect,ie.PermanentRedirect],Ls=[ie.BadGateway,ie.ServiceUnavailable,ie.GatewayTimeout],Ds=["OPTIONS","GET","DELETE","HEAD"],Cs=10,qs=5,Ce=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Ce.prototype)}};I.HttpClientError=Ce;var ft=class{constructor(t){this.message=t}readBody(){return C(this,void 0,void 0,function*(){return new Promise(t=>C(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};I.HttpClientResponse=ft;function Us(e){return new URL(e).protocol==="https:"}I.isHttps=Us;var Ft=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return C(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return C(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return C(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return C(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return C(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return C(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return C(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,i){return C(this,void 0,void 0,function*(){return this.request(t,r,n,i)})}getJson(t,r={}){return C(this,void 0,void 0,function*(){r[F.Accept]=this._getExistingOrDefaultHeader(r,F.Accept,_e.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return C(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[F.Accept]=this._getExistingOrDefaultHeader(n,F.Accept,_e.ApplicationJson),n[F.ContentType]=this._getExistingOrDefaultHeader(n,F.ContentType,_e.ApplicationJson);let s=yield this.post(t,i,n);return this._processResponse(s,this.requestOptions)})}putJson(t,r,n={}){return C(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[F.Accept]=this._getExistingOrDefaultHeader(n,F.Accept,_e.ApplicationJson),n[F.ContentType]=this._getExistingOrDefaultHeader(n,F.ContentType,_e.ApplicationJson);let s=yield this.put(t,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(t,r,n={}){return C(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[F.Accept]=this._getExistingOrDefaultHeader(n,F.Accept,_e.ApplicationJson),n[F.ContentType]=this._getExistingOrDefaultHeader(n,F.ContentType,_e.ApplicationJson);let s=yield this.patch(t,i,n);return this._processResponse(s,this.requestOptions)})}request(t,r,n,i){return C(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(t,s,i),a=this._allowRetries&&Ds.includes(t)?this._maxRetries+1:1,l=0,c;do{if(c=yield this.requestRaw(o,n),c&&c.message&&c.message.statusCode===ie.Unauthorized){let f;for(let p of this.handlers)if(p.canHandleAuthentication(c)){f=p;break}return f?f.handleAuthentication(this,o,n):c}let u=this._maxRedirects;for(;c.message.statusCode&&Ns.includes(c.message.statusCode)&&this._allowRedirects&&u>0;){let f=c.message.headers.location;if(!f)break;let p=new URL(f);if(s.protocol==="https:"&&s.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield c.readBody(),p.hostname!==s.hostname)for(let x in i)x.toLowerCase()==="authorization"&&delete i[x];o=this._prepareRequest(t,p,i),c=yield this.requestRaw(o,n),u--}if(!c.message.statusCode||!Ls.includes(c.message.statusCode))return c;l+=1,l<a&&(yield c.readBody(),yield this._performExponentialBackoff(l))}while(l<a);return c})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return C(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(o,a){o?i(o):a?n(a):i(new Error("Unknown error"))}this.requestRawWithCallback(t,r,s)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(l,c){i||(i=!0,n(l,c))}let o=t.httpModule.request(t.options,l=>{let c=new ft(l);s(void 0,c)}),a;o.on("socket",l=>{a=l}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${t.options.path}`))}),o.on("error",function(l){s(l)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?Mt:ct;let o=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(i.options);return i}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},lt(this.requestOptions.headers),lt(t||{})):lt(t||{})}_getExistingOrDefaultHeader(t,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=lt(this.requestOptions.headers)[r]),t[r]||i||n}_getAgent(t){let r,n=dn.getProxyUrl(t),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=t.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||ct.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},l,c=n.protocol==="https:";s?l=c?ut.httpsOverHttps:ut.httpsOverHttp:l=c?ut.httpOverHttps:ut.httpOverHttp,r=l(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=s?new Mt.Agent(a):new ct.Agent(a),this._agent=r}return r||(r=s?Mt.globalAgent:ct.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return C(this,void 0,void 0,function*(){t=Math.min(Cs,t);let r=qs*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return C(this,void 0,void 0,function*(){return new Promise((n,i)=>C(this,void 0,void 0,function*(){let s=t.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===ie.NotFound&&n(o);function a(u,f){if(typeof f=="string"){let p=new Date(f);if(!isNaN(p.valueOf()))return p}return f}let l,c;try{c=yield t.readBody(),c&&c.length>0&&(r&&r.deserializeDates?l=JSON.parse(c,a):l=JSON.parse(c),o.result=l),o.headers=t.message.headers}catch{}if(s>299){let u;l&&l.message?u=l.message:c&&c.length>0?u=c:u=`Failed request: (${s})`;let f=new Ce(u,s);f.result=o.result,i(f)}else n(o)}))})}};I.HttpClient=Ft;var lt=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var pn=b(ae=>{"use strict";var Vt=ae&&ae.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(ae,"__esModule",{value:!0});ae.PersonalAccessTokenCredentialHandler=ae.BearerCredentialHandler=ae.BasicCredentialHandler=void 0;var Bt=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Vt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ae.BasicCredentialHandler=Bt;var kt=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Vt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ae.BearerCredentialHandler=kt;var Gt=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Vt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ae.PersonalAccessTokenCredentialHandler=Gt});var yn=b(qe=>{"use strict";var mn=qe&&qe.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(qe,"__esModule",{value:!0});qe.OidcClient=void 0;var $s=hn(),js=pn(),vn=Ue(),we=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new $s.HttpClient("actions/oidc-client",[new js.BearerCredentialHandler(we.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return mn(this,void 0,void 0,function*(){let s=(r=(yield we.createHttpClient().getJson(t).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(t){return mn(this,void 0,void 0,function*(){try{let r=we.getIDTokenUrl();if(t){let i=encodeURIComponent(t);r=`${r}&audience=${i}`}vn.debug(`ID token url is ${r}`);let n=yield we.getCall(r);return vn.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};qe.OidcClient=we});var Ht=b(V=>{"use strict";var Wt=V&&V.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(V,"__esModule",{value:!0});V.summary=V.markdownSummary=V.SUMMARY_DOCS_URL=V.SUMMARY_ENV_VAR=void 0;var Ms=require("os"),Xt=require("fs"),{access:Fs,appendFile:Bs,writeFile:ks}=Xt.promises;V.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";V.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Jt=class{constructor(){this._buffer=""}filePath(){return Wt(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[V.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${V.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Fs(t,Xt.constants.R_OK|Xt.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let i=Object.entries(n).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${t}${i}>${r}</${t}>`:`<${t}${i}>`}write(t){return Wt(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),n=yield this.filePath();return yield(r?ks:Bs)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Wt(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(Ms.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(i).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",i=t.map(o=>this.wrap("li",o)).join(""),s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(t){let r=t.map(i=>{let s=i.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:l,colspan:c,rowspan:u}=o,f=a?"th":"td",p=Object.assign(Object.assign({},c&&{colspan:c}),u&&{rowspan:u});return this.wrap(f,l,p)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:i,height:s}=n||{},o=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:t,alt:r},o));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(i,t);return this.addRaw(s).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",t,n);return this.addRaw(i).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},En=new Jt;V.markdownSummary=En;V.summary=En});var gn=b(W=>{"use strict";var Gs=W&&W.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Vs=W&&W.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ws=W&&W.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Gs(t,e,r);return Vs(t,e),t};Object.defineProperty(W,"__esModule",{value:!0});W.toPlatformPath=W.toWin32Path=W.toPosixPath=void 0;var Xs=Ws(require("path"));function Js(e){return e.replace(/[\\]/g,"/")}W.toPosixPath=Js;function Hs(e){return e.replace(/[/]/g,"\\")}W.toWin32Path=Hs;function zs(e){return e.replace(/[/\\]/g,Xs.sep)}W.toPlatformPath=zs});var Ue=b(y=>{"use strict";var Ys=y&&y.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ks=y&&y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_n=y&&y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ys(t,e,r);return Ks(t,e),t},wn=y&&y.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(y,"__esModule",{value:!0});y.getIDToken=y.getState=y.saveState=y.group=y.endGroup=y.startGroup=y.info=y.notice=y.warning=y.error=y.debug=y.isDebug=y.setFailed=y.setCommandEcho=y.setOutput=y.getBooleanInput=y.getMultilineInput=y.getInput=y.addPath=y.setSecret=y.exportVariable=y.ExitCode=void 0;var ee=Ir(),Ie=rn(),$e=nt(),On=_n(require("os")),Qs=_n(require("path")),Zs=yn(),Rn;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Rn=y.ExitCode||(y.ExitCode={}));function eo(e,t){let r=$e.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return Ie.issueFileCommand("ENV",Ie.prepareKeyValueMessage(e,t));ee.issueCommand("set-env",{name:e},r)}y.exportVariable=eo;function to(e){ee.issueCommand("add-mask",{},e)}y.setSecret=to;function ro(e){process.env.GITHUB_PATH||""?Ie.issueFileCommand("PATH",e):ee.issueCommand("add-path",{},e),process.env.PATH=`${e}${Qs.delimiter}${process.env.PATH}`}y.addPath=ro;function zt(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}y.getInput=zt;function no(e,t){let r=zt(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}y.getMultilineInput=no;function io(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=zt(e,t);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}y.getBooleanInput=io;function so(e,t){if(process.env.GITHUB_OUTPUT||"")return Ie.issueFileCommand("OUTPUT",Ie.prepareKeyValueMessage(e,t));process.stdout.write(On.EOL),ee.issueCommand("set-output",{name:e},$e.toCommandValue(t))}y.setOutput=so;function oo(e){ee.issue("echo",e?"on":"off")}y.setCommandEcho=oo;function ao(e){process.exitCode=Rn.Failure,Sn(e)}y.setFailed=ao;function co(){return process.env.RUNNER_DEBUG==="1"}y.isDebug=co;function uo(e){ee.issueCommand("debug",{},e)}y.debug=uo;function Sn(e,t={}){ee.issueCommand("error",$e.toCommandProperties(t),e instanceof Error?e.toString():e)}y.error=Sn;function lo(e,t={}){ee.issueCommand("warning",$e.toCommandProperties(t),e instanceof Error?e.toString():e)}y.warning=lo;function fo(e,t={}){ee.issueCommand("notice",$e.toCommandProperties(t),e instanceof Error?e.toString():e)}y.notice=fo;function ho(e){process.stdout.write(e+On.EOL)}y.info=ho;function Tn(e){ee.issue("group",e)}y.startGroup=Tn;function An(){ee.issue("endgroup")}y.endGroup=An;function po(e,t){return wn(this,void 0,void 0,function*(){Tn(e);let r;try{r=yield t()}finally{An()}return r})}y.group=po;function mo(e,t){if(process.env.GITHUB_STATE||"")return Ie.issueFileCommand("STATE",Ie.prepareKeyValueMessage(e,t));ee.issueCommand("save-state",{name:e},$e.toCommandValue(t))}y.saveState=mo;function vo(e){return process.env[`STATE_${e}`]||""}y.getState=vo;function yo(e){return wn(this,void 0,void 0,function*(){return yield Zs.OidcClient.getIDToken(e)})}y.getIDToken=yo;var Eo=Ht();Object.defineProperty(y,"summary",{enumerable:!0,get:function(){return Eo.summary}});var go=Ht();Object.defineProperty(y,"markdownSummary",{enumerable:!0,get:function(){return go.markdownSummary}});var Yt=gn();Object.defineProperty(y,"toPosixPath",{enumerable:!0,get:function(){return Yt.toPosixPath}});Object.defineProperty(y,"toWin32Path",{enumerable:!0,get:function(){return Yt.toWin32Path}});Object.defineProperty(y,"toPlatformPath",{enumerable:!0,get:function(){return Yt.toPlatformPath}})});var Qt=b(m=>{"use strict";var _o=m&&m.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wo=m&&m.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),In=m&&m.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&_o(t,e,r);return wo(t,e),t},Kt=m&&m.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})},X;Object.defineProperty(m,"__esModule",{value:!0});m.getCmdPath=m.tryGetExecutablePath=m.isRooted=m.isDirectory=m.exists=m.READONLY=m.UV_FS_O_EXLOCK=m.IS_WINDOWS=m.unlink=m.symlink=m.stat=m.rmdir=m.rm=m.rename=m.readlink=m.readdir=m.open=m.mkdir=m.lstat=m.copyFile=m.chmod=void 0;var Pn=In(require("fs")),ht=In(require("path"));X=Pn.promises,m.chmod=X.chmod,m.copyFile=X.copyFile,m.lstat=X.lstat,m.mkdir=X.mkdir,m.open=X.open,m.readdir=X.readdir,m.readlink=X.readlink,m.rename=X.rename,m.rm=X.rm,m.rmdir=X.rmdir,m.stat=X.stat,m.symlink=X.symlink,m.unlink=X.unlink;m.IS_WINDOWS=process.platform==="win32";m.UV_FS_O_EXLOCK=268435456;m.READONLY=Pn.constants.O_RDONLY;function Oo(e){return Kt(this,void 0,void 0,function*(){try{yield m.stat(e)}catch(t){if(t.code==="ENOENT")return!1;throw t}return!0})}m.exists=Oo;function Ro(e,t=!1){return Kt(this,void 0,void 0,function*(){return(t?yield m.stat(e):yield m.lstat(e)).isDirectory()})}m.isDirectory=Ro;function So(e){if(e=Ao(e),!e)throw new Error('isRooted() parameter "p" cannot be empty');return m.IS_WINDOWS?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")}m.isRooted=So;function To(e,t){return Kt(this,void 0,void 0,function*(){let r;try{r=yield m.stat(e)}catch(i){i.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${i}`)}if(r&&r.isFile()){if(m.IS_WINDOWS){let i=ht.extname(e).toUpperCase();if(t.some(s=>s.toUpperCase()===i))return e}else if(bn(r))return e}let n=e;for(let i of t){e=n+i,r=void 0;try{r=yield m.stat(e)}catch(s){s.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${s}`)}if(r&&r.isFile()){if(m.IS_WINDOWS){try{let s=ht.dirname(e),o=ht.basename(e).toUpperCase();for(let a of yield m.readdir(s))if(o===a.toUpperCase()){e=ht.join(s,a);break}}catch(s){console.log(`Unexpected error attempting to determine the actual case of the file '${e}': ${s}`)}return e}else if(bn(r))return e}}return""})}m.tryGetExecutablePath=To;function Ao(e){return e=e||"",m.IS_WINDOWS?(e=e.replace(/\//g,"\\"),e.replace(/\\\\+/g,"\\")):e.replace(/\/\/+/g,"/")}function bn(e){return(e.mode&1)>0||(e.mode&8)>0&&e.gid===process.getgid()||(e.mode&64)>0&&e.uid===process.getuid()}function bo(){var e;return(e=process.env.COMSPEC)!==null&&e!==void 0?e:"cmd.exe"}m.getCmdPath=bo});var Un=b(L=>{"use strict";var Io=L&&L.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Po=L&&L.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xn=L&&L.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Io(t,e,r);return Po(t,e),t},Oe=L&&L.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(L,"__esModule",{value:!0});L.findInPath=L.which=L.mkdirP=L.rmRF=L.mv=L.cp=void 0;var xo=require("assert"),ce=xn(require("path")),R=xn(Qt());function No(e,t,r={}){return Oe(this,void 0,void 0,function*(){let{force:n,recursive:i,copySourceDirectory:s}=Do(r),o=(yield R.exists(t))?yield R.stat(t):null;if(o&&o.isFile()&&!n)return;let a=o&&o.isDirectory()&&s?ce.join(t,ce.basename(e)):t;if(!(yield R.exists(e)))throw new Error(`no such file or directory: ${e}`);if((yield R.stat(e)).isDirectory())if(i)yield Cn(e,a,0,n);else throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);else{if(ce.relative(e,a)==="")throw new Error(`'${a}' and '${e}' are the same file`);yield qn(e,a,n)}})}L.cp=No;function Lo(e,t,r={}){return Oe(this,void 0,void 0,function*(){if(yield R.exists(t)){let n=!0;if((yield R.isDirectory(t))&&(t=ce.join(t,ce.basename(e)),n=yield R.exists(t)),n)if(r.force==null||r.force)yield Nn(t);else throw new Error("Destination already exists")}yield Zt(ce.dirname(t)),yield R.rename(e,t)})}L.mv=Lo;function Nn(e){return Oe(this,void 0,void 0,function*(){if(R.IS_WINDOWS&&/[*"<>|]/.test(e))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{yield R.rm(e,{force:!0,maxRetries:3,recursive:!0,retryDelay:300})}catch(t){throw new Error(`File was unable to be removed ${t}`)}})}L.rmRF=Nn;function Zt(e){return Oe(this,void 0,void 0,function*(){xo.ok(e,"a path argument must be provided"),yield R.mkdir(e,{recursive:!0})})}L.mkdirP=Zt;function Ln(e,t){return Oe(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");if(t){let n=yield Ln(e,!1);if(!n)throw R.IS_WINDOWS?new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return n}let r=yield Dn(e);return r&&r.length>0?r[0]:""})}L.which=Ln;function Dn(e){return Oe(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");let t=[];if(R.IS_WINDOWS&&process.env.PATHEXT)for(let i of process.env.PATHEXT.split(ce.delimiter))i&&t.push(i);if(R.isRooted(e)){let i=yield R.tryGetExecutablePath(e,t);return i?[i]:[]}if(e.includes(ce.sep))return[];let r=[];if(process.env.PATH)for(let i of process.env.PATH.split(ce.delimiter))i&&r.push(i);let n=[];for(let i of r){let s=yield R.tryGetExecutablePath(ce.join(i,e),t);s&&n.push(s)}return n})}L.findInPath=Dn;function Do(e){let t=e.force==null?!0:e.force,r=!!e.recursive,n=e.copySourceDirectory==null?!0:!!e.copySourceDirectory;return{force:t,recursive:r,copySourceDirectory:n}}function Cn(e,t,r,n){return Oe(this,void 0,void 0,function*(){if(r>=255)return;r++,yield Zt(t);let i=yield R.readdir(e);for(let s of i){let o=`${e}/${s}`,a=`${t}/${s}`;(yield R.lstat(o)).isDirectory()?yield Cn(o,a,r,n):yield qn(o,a,n)}yield R.chmod(t,(yield R.stat(e)).mode)})}function qn(e,t,r){return Oe(this,void 0,void 0,function*(){if((yield R.lstat(e)).isSymbolicLink()){try{yield R.lstat(t),yield R.unlink(t)}catch(i){i.code==="EPERM"&&(yield R.chmod(t,"0666"),yield R.unlink(t))}let n=yield R.readlink(e);yield R.symlink(n,t,R.IS_WINDOWS?"junction":null)}else(!(yield R.exists(t))||r)&&(yield R.copyFile(e,t))})}});var Fn=b(J=>{"use strict";var Co=J&&J.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qo=J&&J.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),je=J&&J.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Co(t,e,r);return qo(t,e),t},$n=J&&J.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(J,"__esModule",{value:!0});J.argStringToArray=J.ToolRunner=void 0;var pt=je(require("os")),Mn=je(require("events")),Uo=je(require("child_process")),$o=je(require("path")),jo=je(Un()),jn=je(Qt()),Mo=require("timers"),mt=process.platform==="win32",er=class extends Mn.EventEmitter{constructor(t,r,n){if(super(),!t)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=t,this.args=r||[],this.options=n||{}}_debug(t){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(t)}_getCommandString(t,r){let n=this._getSpawnFileName(),i=this._getSpawnArgs(t),s=r?"":"[command]";if(mt)if(this._isCmdFile()){s+=n;for(let o of i)s+=` ${o}`}else if(t.windowsVerbatimArguments){s+=`"${n}"`;for(let o of i)s+=` ${o}`}else{s+=this._windowsQuoteCmdArg(n);for(let o of i)s+=` ${this._windowsQuoteCmdArg(o)}`}else{s+=n;for(let o of i)s+=` ${o}`}return s}_processLineBuffer(t,r,n){try{let i=r+t.toString(),s=i.indexOf(pt.EOL);for(;s>-1;){let o=i.substring(0,s);n(o),i=i.substring(s+pt.EOL.length),s=i.indexOf(pt.EOL)}return i}catch(i){return this._debug(`error processing line. Failed with error ${i}`),""}}_getSpawnFileName(){return mt&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(t){if(mt&&this._isCmdFile()){let r=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(let n of this.args)r+=" ",r+=t.windowsVerbatimArguments?n:this._windowsQuoteCmdArg(n);return r+='"',[r]}return this.args}_endsWith(t,r){return t.endsWith(r)}_isCmdFile(){let t=this.toolPath.toUpperCase();return this._endsWith(t,".CMD")||this._endsWith(t,".BAT")}_windowsQuoteCmdArg(t){if(!this._isCmdFile())return this._uvQuoteCmdArg(t);if(!t)return'""';let r=[" ","	","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'],n=!1;for(let o of t)if(r.some(a=>a===o)){n=!0;break}if(!n)return t;let i='"',s=!0;for(let o=t.length;o>0;o--)i+=t[o-1],s&&t[o-1]==="\\"?i+="\\":t[o-1]==='"'?(s=!0,i+='"'):s=!1;return i+='"',i.split("").reverse().join("")}_uvQuoteCmdArg(t){if(!t)return'""';if(!t.includes(" ")&&!t.includes("	")&&!t.includes('"'))return t;if(!t.includes('"')&&!t.includes("\\"))return`"${t}"`;let r='"',n=!0;for(let i=t.length;i>0;i--)r+=t[i-1],n&&t[i-1]==="\\"?r+="\\":t[i-1]==='"'?(n=!0,r+="\\"):n=!1;return r+='"',r.split("").reverse().join("")}_cloneExecOptions(t){t=t||{};let r={cwd:t.cwd||process.cwd(),env:t.env||process.env,silent:t.silent||!1,windowsVerbatimArguments:t.windowsVerbatimArguments||!1,failOnStdErr:t.failOnStdErr||!1,ignoreReturnCode:t.ignoreReturnCode||!1,delay:t.delay||1e4};return r.outStream=t.outStream||process.stdout,r.errStream=t.errStream||process.stderr,r}_getSpawnOptions(t,r){t=t||{};let n={};return n.cwd=t.cwd,n.env=t.env,n.windowsVerbatimArguments=t.windowsVerbatimArguments||this._isCmdFile(),t.windowsVerbatimArguments&&(n.argv0=`"${r}"`),n}exec(){return $n(this,void 0,void 0,function*(){return!jn.isRooted(this.toolPath)&&(this.toolPath.includes("/")||mt&&this.toolPath.includes("\\"))&&(this.toolPath=$o.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield jo.which(this.toolPath,!0),new Promise((t,r)=>$n(this,void 0,void 0,function*(){this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(let c of this.args)this._debug(`   ${c}`);let n=this._cloneExecOptions(this.options);!n.silent&&n.outStream&&n.outStream.write(this._getCommandString(n)+pt.EOL);let i=new ze(n,this.toolPath);if(i.on("debug",c=>{this._debug(c)}),this.options.cwd&&!(yield jn.exists(this.options.cwd)))return r(new Error(`The cwd: ${this.options.cwd} does not exist!`));let s=this._getSpawnFileName(),o=Uo.spawn(s,this._getSpawnArgs(n),this._getSpawnOptions(this.options,s)),a="";o.stdout&&o.stdout.on("data",c=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(c),!n.silent&&n.outStream&&n.outStream.write(c),a=this._processLineBuffer(c,a,u=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(u)})});let l="";if(o.stderr&&o.stderr.on("data",c=>{i.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(c),!n.silent&&n.errStream&&n.outStream&&(n.failOnStdErr?n.errStream:n.outStream).write(c),l=this._processLineBuffer(c,l,u=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(u)})}),o.on("error",c=>{i.processError=c.message,i.processExited=!0,i.processClosed=!0,i.CheckComplete()}),o.on("exit",c=>{i.processExitCode=c,i.processExited=!0,this._debug(`Exit code ${c} received from tool '${this.toolPath}'`),i.CheckComplete()}),o.on("close",c=>{i.processExitCode=c,i.processExited=!0,i.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),i.CheckComplete()}),i.on("done",(c,u)=>{a.length>0&&this.emit("stdline",a),l.length>0&&this.emit("errline",l),o.removeAllListeners(),c?r(c):t(u)}),this.options.input){if(!o.stdin)throw new Error("child process missing stdin");o.stdin.end(this.options.input)}}))})}};J.ToolRunner=er;function Fo(e){let t=[],r=!1,n=!1,i="";function s(o){n&&o!=='"'&&(i+="\\"),i+=o,n=!1}for(let o=0;o<e.length;o++){let a=e.charAt(o);if(a==='"'){n?s(a):r=!r;continue}if(a==="\\"&&n){s(a);continue}if(a==="\\"&&r){n=!0;continue}if(a===" "&&!r){i.length>0&&(t.push(i),i="");continue}s(a)}return i.length>0&&t.push(i.trim()),t}J.argStringToArray=Fo;var ze=class extends Mn.EventEmitter{constructor(t,r){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!r)throw new Error("toolPath must not be empty");this.options=t,this.toolPath=r,t.delay&&(this.delay=t.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=Mo.setTimeout(ze.HandleTimeout,this.delay,this)))}_debug(t){this.emit("debug",t)}_setResult(){let t;this.processExited&&(this.processError?t=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):this.processExitCode!==0&&!this.options.ignoreReturnCode?t=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`):this.processStderr&&this.options.failOnStdErr&&(t=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`))),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",t,this.processExitCode)}static HandleTimeout(t){if(!t.done){if(!t.processClosed&&t.processExited){let r=`The STDIO streams did not close within ${t.delay/1e3} seconds of the exit event from process '${t.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;t._debug(r)}t._setResult()}}}});var tr=b(H=>{"use strict";var Bo=H&&H.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ko=H&&H.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Go=H&&H.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Bo(t,e,r);return ko(t,e),t},Gn=H&&H.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(H,"__esModule",{value:!0});H.getExecOutput=H.exec=void 0;var Bn=require("string_decoder"),kn=Go(Fn());function Vn(e,t,r){return Gn(this,void 0,void 0,function*(){let n=kn.argStringToArray(e);if(n.length===0)throw new Error("Parameter 'commandLine' cannot be null or empty.");let i=n[0];return t=n.slice(1).concat(t||[]),new kn.ToolRunner(i,t,r).exec()})}H.exec=Vn;function Vo(e,t,r){var n,i;return Gn(this,void 0,void 0,function*(){let s="",o="",a=new Bn.StringDecoder("utf8"),l=new Bn.StringDecoder("utf8"),c=(n=r==null?void 0:r.listeners)===null||n===void 0?void 0:n.stdout,u=(i=r==null?void 0:r.listeners)===null||i===void 0?void 0:i.stderr,f=We=>{o+=l.write(We),u&&u(We)},p=We=>{s+=a.write(We),c&&c(We)},x=Object.assign(Object.assign({},r==null?void 0:r.listeners),{stdout:p,stderr:f}),Y=yield Vn(e,t,Object.assign(Object.assign({},r),{listeners:x}));return s+=a.end(),o+=l.end(),{exitCode:Y,stdout:s,stderr:o}})}H.getExecOutput=Vo});var Xn=b(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.checkBypass=Me.getProxyUrl=void 0;function Wo(e){let t=e.protocol==="https:";if(Wn(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Me.getProxyUrl=Wo;function Wn(e){if(!e.hostname)return!1;let t=e.hostname;if(Xo(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let i=[e.hostname.toUpperCase()];typeof n=="number"&&i.push(`${i[0]}:${n}`);for(let s of r.split(",").map(o=>o.trim().toUpperCase()).filter(o=>o))if(s==="*"||i.some(o=>o===s||o.endsWith(`.${s}`)||s.startsWith(".")&&o.endsWith(`${s}`)))return!0;return!1}Me.checkBypass=Wn;function Xo(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var Yn=b(Fe=>{"use strict";var Qu=require("net"),Jo=require("tls"),rr=require("http"),Jn=require("https"),Ho=require("events"),Zu=require("assert"),zo=require("util");Fe.httpOverHttp=Yo;Fe.httpsOverHttp=Ko;Fe.httpOverHttps=Qo;Fe.httpsOverHttps=Zo;function Yo(e){var t=new he(e);return t.request=rr.request,t}function Ko(e){var t=new he(e);return t.request=rr.request,t.createSocket=Hn,t.defaultPort=443,t}function Qo(e){var t=new he(e);return t.request=Jn.request,t}function Zo(e){var t=new he(e);return t.request=Jn.request,t.createSocket=Hn,t.defaultPort=443,t}function he(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||rr.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,i,s,o){for(var a=zn(i,s,o),l=0,c=t.requests.length;l<c;++l){var u=t.requests[l];if(u.host===a.host&&u.port===a.port){t.requests.splice(l,1),u.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}zo.inherits(he,Ho.EventEmitter);he.prototype.addRequest=function(t,r,n,i){var s=this,o=nr({request:t},s.options,zn(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",l),a.on("close",c),a.on("agentRemove",c),t.onSocket(a);function l(){s.emit("free",a,o)}function c(u){s.removeSocket(a),a.removeListener("free",l),a.removeListener("close",c),a.removeListener("agentRemove",c)}})};he.prototype.createSocket=function(t,r){var n=this,i={};n.sockets.push(i);var s=nr({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),Re("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",l),o.once("connect",c),o.once("error",u),o.end();function a(f){f.upgrade=!0}function l(f,p,x){process.nextTick(function(){c(f,p,x)})}function c(f,p,x){if(o.removeAllListeners(),p.removeAllListeners(),f.statusCode!==200){Re("tunneling socket could not be established, statusCode=%d",f.statusCode),p.destroy();var Y=new Error("tunneling socket could not be established, statusCode="+f.statusCode);Y.code="ECONNRESET",t.request.emit("error",Y),n.removeSocket(i);return}if(x.length>0){Re("got illegal response body from proxy"),p.destroy();var Y=new Error("got illegal response body from proxy");Y.code="ECONNRESET",t.request.emit("error",Y),n.removeSocket(i);return}return Re("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=p,r(p)}function u(f){o.removeAllListeners(),Re(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var p=new Error("tunneling socket could not be established, cause="+f.message);p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(i)}};he.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function Hn(e,t){var r=this;he.prototype.createSocket.call(r,e,function(n){var i=e.request.getHeader("host"),s=nr({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):e.host}),o=Jo.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,t(o)})}function zn(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function nr(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var a=i[s];n[a]!==void 0&&(e[a]=n[a])}}return e}var Re;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Re=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Re=function(){};Fe.debug=Re});var Qn=b((tl,Kn)=>{Kn.exports=Yn()});var or=b(P=>{"use strict";var ea=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ta=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_t=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&ea(t,e,r);return ta(t,e),t},q=P&&P.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(P,"__esModule",{value:!0});P.HttpClient=P.isHttps=P.HttpClientResponse=P.HttpClientError=P.getProxyUrl=P.MediaTypes=P.Headers=P.HttpCodes=void 0;var vt=_t(require("http")),ir=_t(require("https")),Zn=_t(Xn()),yt=_t(Qn()),se;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(se=P.HttpCodes||(P.HttpCodes={}));var B;(function(e){e.Accept="accept",e.ContentType="content-type"})(B=P.Headers||(P.Headers={}));var Se;(function(e){e.ApplicationJson="application/json"})(Se=P.MediaTypes||(P.MediaTypes={}));function ra(e){let t=Zn.getProxyUrl(new URL(e));return t?t.href:""}P.getProxyUrl=ra;var na=[se.MovedPermanently,se.ResourceMoved,se.SeeOther,se.TemporaryRedirect,se.PermanentRedirect],ia=[se.BadGateway,se.ServiceUnavailable,se.GatewayTimeout],sa=["OPTIONS","GET","DELETE","HEAD"],oa=10,aa=5,Be=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Be.prototype)}};P.HttpClientError=Be;var gt=class{constructor(t){this.message=t}readBody(){return q(this,void 0,void 0,function*(){return new Promise(t=>q(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};P.HttpClientResponse=gt;function ca(e){return new URL(e).protocol==="https:"}P.isHttps=ca;var sr=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return q(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return q(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return q(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return q(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return q(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return q(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return q(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,i){return q(this,void 0,void 0,function*(){return this.request(t,r,n,i)})}getJson(t,r={}){return q(this,void 0,void 0,function*(){r[B.Accept]=this._getExistingOrDefaultHeader(r,B.Accept,Se.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return q(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[B.Accept]=this._getExistingOrDefaultHeader(n,B.Accept,Se.ApplicationJson),n[B.ContentType]=this._getExistingOrDefaultHeader(n,B.ContentType,Se.ApplicationJson);let s=yield this.post(t,i,n);return this._processResponse(s,this.requestOptions)})}putJson(t,r,n={}){return q(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[B.Accept]=this._getExistingOrDefaultHeader(n,B.Accept,Se.ApplicationJson),n[B.ContentType]=this._getExistingOrDefaultHeader(n,B.ContentType,Se.ApplicationJson);let s=yield this.put(t,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(t,r,n={}){return q(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[B.Accept]=this._getExistingOrDefaultHeader(n,B.Accept,Se.ApplicationJson),n[B.ContentType]=this._getExistingOrDefaultHeader(n,B.ContentType,Se.ApplicationJson);let s=yield this.patch(t,i,n);return this._processResponse(s,this.requestOptions)})}request(t,r,n,i){return q(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(t,s,i),a=this._allowRetries&&sa.includes(t)?this._maxRetries+1:1,l=0,c;do{if(c=yield this.requestRaw(o,n),c&&c.message&&c.message.statusCode===se.Unauthorized){let f;for(let p of this.handlers)if(p.canHandleAuthentication(c)){f=p;break}return f?f.handleAuthentication(this,o,n):c}let u=this._maxRedirects;for(;c.message.statusCode&&na.includes(c.message.statusCode)&&this._allowRedirects&&u>0;){let f=c.message.headers.location;if(!f)break;let p=new URL(f);if(s.protocol==="https:"&&s.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield c.readBody(),p.hostname!==s.hostname)for(let x in i)x.toLowerCase()==="authorization"&&delete i[x];o=this._prepareRequest(t,p,i),c=yield this.requestRaw(o,n),u--}if(!c.message.statusCode||!ia.includes(c.message.statusCode))return c;l+=1,l<a&&(yield c.readBody(),yield this._performExponentialBackoff(l))}while(l<a);return c})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return q(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(o,a){o?i(o):a?n(a):i(new Error("Unknown error"))}this.requestRawWithCallback(t,r,s)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(l,c){i||(i=!0,n(l,c))}let o=t.httpModule.request(t.options,l=>{let c=new gt(l);s(void 0,c)}),a;o.on("socket",l=>{a=l}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${t.options.path}`))}),o.on("error",function(l){s(l)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?ir:vt;let o=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(i.options);return i}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Et(this.requestOptions.headers),Et(t||{})):Et(t||{})}_getExistingOrDefaultHeader(t,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=Et(this.requestOptions.headers)[r]),t[r]||i||n}_getAgent(t){let r,n=Zn.getProxyUrl(t),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=t.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||vt.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},l,c=n.protocol==="https:";s?l=c?yt.httpsOverHttps:yt.httpsOverHttp:l=c?yt.httpOverHttps:yt.httpOverHttp,r=l(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=s?new ir.Agent(a):new vt.Agent(a),this._agent=r}return r||(r=s?ir.globalAgent:vt.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return q(this,void 0,void 0,function*(){t=Math.min(oa,t);let r=aa*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return q(this,void 0,void 0,function*(){return new Promise((n,i)=>q(this,void 0,void 0,function*(){let s=t.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===se.NotFound&&n(o);function a(u,f){if(typeof f=="string"){let p=new Date(f);if(!isNaN(p.valueOf()))return p}return f}let l,c;try{c=yield t.readBody(),c&&c.length>0&&(r&&r.deserializeDates?l=JSON.parse(c,a):l=JSON.parse(c),o.result=l),o.headers=t.message.headers}catch{}if(s>299){let u;l&&l.message?u=l.message:c&&c.length>0?u=c:u=`Failed request: (${s})`;let f=new Be(u,s);f.result=o.result,i(f)}else n(o)}))})}};P.HttpClient=sr;var Et=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var ni=b(v=>{"use strict";var ua=v&&v.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),la=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ti=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&ua(t,e,r);return la(t,e),t},ar=v&&v.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})},z;Object.defineProperty(v,"__esModule",{value:!0});v.getCmdPath=v.tryGetExecutablePath=v.isRooted=v.isDirectory=v.exists=v.READONLY=v.UV_FS_O_EXLOCK=v.IS_WINDOWS=v.unlink=v.symlink=v.stat=v.rmdir=v.rm=v.rename=v.readlink=v.readdir=v.open=v.mkdir=v.lstat=v.copyFile=v.chmod=void 0;var ri=ti(require("fs")),wt=ti(require("path"));z=ri.promises,v.chmod=z.chmod,v.copyFile=z.copyFile,v.lstat=z.lstat,v.mkdir=z.mkdir,v.open=z.open,v.readdir=z.readdir,v.readlink=z.readlink,v.rename=z.rename,v.rm=z.rm,v.rmdir=z.rmdir,v.stat=z.stat,v.symlink=z.symlink,v.unlink=z.unlink;v.IS_WINDOWS=process.platform==="win32";v.UV_FS_O_EXLOCK=268435456;v.READONLY=ri.constants.O_RDONLY;function fa(e){return ar(this,void 0,void 0,function*(){try{yield v.stat(e)}catch(t){if(t.code==="ENOENT")return!1;throw t}return!0})}v.exists=fa;function da(e,t=!1){return ar(this,void 0,void 0,function*(){return(t?yield v.stat(e):yield v.lstat(e)).isDirectory()})}v.isDirectory=da;function ha(e){if(e=ma(e),!e)throw new Error('isRooted() parameter "p" cannot be empty');return v.IS_WINDOWS?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")}v.isRooted=ha;function pa(e,t){return ar(this,void 0,void 0,function*(){let r;try{r=yield v.stat(e)}catch(i){i.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${i}`)}if(r&&r.isFile()){if(v.IS_WINDOWS){let i=wt.extname(e).toUpperCase();if(t.some(s=>s.toUpperCase()===i))return e}else if(ei(r))return e}let n=e;for(let i of t){e=n+i,r=void 0;try{r=yield v.stat(e)}catch(s){s.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${s}`)}if(r&&r.isFile()){if(v.IS_WINDOWS){try{let s=wt.dirname(e),o=wt.basename(e).toUpperCase();for(let a of yield v.readdir(s))if(o===a.toUpperCase()){e=wt.join(s,a);break}}catch(s){console.log(`Unexpected error attempting to determine the actual case of the file '${e}': ${s}`)}return e}else if(ei(r))return e}}return""})}v.tryGetExecutablePath=pa;function ma(e){return e=e||"",v.IS_WINDOWS?(e=e.replace(/\//g,"\\"),e.replace(/\\\\+/g,"\\")):e.replace(/\/\/+/g,"/")}function ei(e){return(e.mode&1)>0||(e.mode&8)>0&&e.gid===process.getgid()||(e.mode&64)>0&&e.uid===process.getuid()}function va(){var e;return(e=process.env.COMSPEC)!==null&&e!==void 0?e:"cmd.exe"}v.getCmdPath=va});var li=b(D=>{"use strict";var ya=D&&D.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ea=D&&D.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ii=D&&D.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&ya(t,e,r);return Ea(t,e),t},Te=D&&D.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(D,"__esModule",{value:!0});D.findInPath=D.which=D.mkdirP=D.rmRF=D.mv=D.cp=void 0;var ga=require("assert"),ue=ii(require("path")),S=ii(ni());function _a(e,t,r={}){return Te(this,void 0,void 0,function*(){let{force:n,recursive:i,copySourceDirectory:s}=Oa(r),o=(yield S.exists(t))?yield S.stat(t):null;if(o&&o.isFile()&&!n)return;let a=o&&o.isDirectory()&&s?ue.join(t,ue.basename(e)):t;if(!(yield S.exists(e)))throw new Error(`no such file or directory: ${e}`);if((yield S.stat(e)).isDirectory())if(i)yield ci(e,a,0,n);else throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);else{if(ue.relative(e,a)==="")throw new Error(`'${a}' and '${e}' are the same file`);yield ui(e,a,n)}})}D.cp=_a;function wa(e,t,r={}){return Te(this,void 0,void 0,function*(){if(yield S.exists(t)){let n=!0;if((yield S.isDirectory(t))&&(t=ue.join(t,ue.basename(e)),n=yield S.exists(t)),n)if(r.force==null||r.force)yield si(t);else throw new Error("Destination already exists")}yield cr(ue.dirname(t)),yield S.rename(e,t)})}D.mv=wa;function si(e){return Te(this,void 0,void 0,function*(){if(S.IS_WINDOWS&&/[*"<>|]/.test(e))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{yield S.rm(e,{force:!0,maxRetries:3,recursive:!0,retryDelay:300})}catch(t){throw new Error(`File was unable to be removed ${t}`)}})}D.rmRF=si;function cr(e){return Te(this,void 0,void 0,function*(){ga.ok(e,"a path argument must be provided"),yield S.mkdir(e,{recursive:!0})})}D.mkdirP=cr;function oi(e,t){return Te(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");if(t){let n=yield oi(e,!1);if(!n)throw S.IS_WINDOWS?new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return n}let r=yield ai(e);return r&&r.length>0?r[0]:""})}D.which=oi;function ai(e){return Te(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");let t=[];if(S.IS_WINDOWS&&process.env.PATHEXT)for(let i of process.env.PATHEXT.split(ue.delimiter))i&&t.push(i);if(S.isRooted(e)){let i=yield S.tryGetExecutablePath(e,t);return i?[i]:[]}if(e.includes(ue.sep))return[];let r=[];if(process.env.PATH)for(let i of process.env.PATH.split(ue.delimiter))i&&r.push(i);let n=[];for(let i of r){let s=yield S.tryGetExecutablePath(ue.join(i,e),t);s&&n.push(s)}return n})}D.findInPath=ai;function Oa(e){let t=e.force==null?!0:e.force,r=!!e.recursive,n=e.copySourceDirectory==null?!0:!!e.copySourceDirectory;return{force:t,recursive:r,copySourceDirectory:n}}function ci(e,t,r,n){return Te(this,void 0,void 0,function*(){if(r>=255)return;r++,yield cr(t);let i=yield S.readdir(e);for(let s of i){let o=`${e}/${s}`,a=`${t}/${s}`;(yield S.lstat(o)).isDirectory()?yield ci(o,a,r,n):yield ui(o,a,n)}yield S.chmod(t,(yield S.stat(e)).mode)})}function ui(e,t,r){return Te(this,void 0,void 0,function*(){if((yield S.lstat(e)).isSymbolicLink()){try{yield S.lstat(t),yield S.unlink(t)}catch(i){i.code==="EPERM"&&(yield S.chmod(t,"0666"),yield S.unlink(t))}let n=yield S.readlink(e);yield S.symlink(n,t,S.IS_WINDOWS?"junction":null)}else(!(yield S.exists(t))||r)&&(yield S.copyFile(e,t))})}});var vr=b((E,mi)=>{E=mi.exports=g;var A;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?A=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:A=function(){};E.SEMVER_SPEC_VERSION="2.0.0";var Ye=256,Ot=Number.MAX_SAFE_INTEGER||9007199254740991,ur=16,Ra=Ye-6,ke=E.re=[],T=E.safeRe=[],h=E.src=[],d=E.tokens={},hi=0;function w(e){d[e]=hi++}var fr="[a-zA-Z0-9-]",lr=[["\\s",1],["\\d",Ye],[fr,Ra]];function Qe(e){for(var t=0;t<lr.length;t++){var r=lr[t][0],n=lr[t][1];e=e.split(r+"*").join(r+"{0,"+n+"}").split(r+"+").join(r+"{1,"+n+"}")}return e}w("NUMERICIDENTIFIER");h[d.NUMERICIDENTIFIER]="0|[1-9]\\d*";w("NUMERICIDENTIFIERLOOSE");h[d.NUMERICIDENTIFIERLOOSE]="\\d+";w("NONNUMERICIDENTIFIER");h[d.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-]"+fr+"*";w("MAINVERSION");h[d.MAINVERSION]="("+h[d.NUMERICIDENTIFIER]+")\\.("+h[d.NUMERICIDENTIFIER]+")\\.("+h[d.NUMERICIDENTIFIER]+")";w("MAINVERSIONLOOSE");h[d.MAINVERSIONLOOSE]="("+h[d.NUMERICIDENTIFIERLOOSE]+")\\.("+h[d.NUMERICIDENTIFIERLOOSE]+")\\.("+h[d.NUMERICIDENTIFIERLOOSE]+")";w("PRERELEASEIDENTIFIER");h[d.PRERELEASEIDENTIFIER]="(?:"+h[d.NUMERICIDENTIFIER]+"|"+h[d.NONNUMERICIDENTIFIER]+")";w("PRERELEASEIDENTIFIERLOOSE");h[d.PRERELEASEIDENTIFIERLOOSE]="(?:"+h[d.NUMERICIDENTIFIERLOOSE]+"|"+h[d.NONNUMERICIDENTIFIER]+")";w("PRERELEASE");h[d.PRERELEASE]="(?:-("+h[d.PRERELEASEIDENTIFIER]+"(?:\\."+h[d.PRERELEASEIDENTIFIER]+")*))";w("PRERELEASELOOSE");h[d.PRERELEASELOOSE]="(?:-?("+h[d.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+h[d.PRERELEASEIDENTIFIERLOOSE]+")*))";w("BUILDIDENTIFIER");h[d.BUILDIDENTIFIER]=fr+"+";w("BUILD");h[d.BUILD]="(?:\\+("+h[d.BUILDIDENTIFIER]+"(?:\\."+h[d.BUILDIDENTIFIER]+")*))";w("FULL");w("FULLPLAIN");h[d.FULLPLAIN]="v?"+h[d.MAINVERSION]+h[d.PRERELEASE]+"?"+h[d.BUILD]+"?";h[d.FULL]="^"+h[d.FULLPLAIN]+"$";w("LOOSEPLAIN");h[d.LOOSEPLAIN]="[v=\\s]*"+h[d.MAINVERSIONLOOSE]+h[d.PRERELEASELOOSE]+"?"+h[d.BUILD]+"?";w("LOOSE");h[d.LOOSE]="^"+h[d.LOOSEPLAIN]+"$";w("GTLT");h[d.GTLT]="((?:<|>)?=?)";w("XRANGEIDENTIFIERLOOSE");h[d.XRANGEIDENTIFIERLOOSE]=h[d.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";w("XRANGEIDENTIFIER");h[d.XRANGEIDENTIFIER]=h[d.NUMERICIDENTIFIER]+"|x|X|\\*";w("XRANGEPLAIN");h[d.XRANGEPLAIN]="[v=\\s]*("+h[d.XRANGEIDENTIFIER]+")(?:\\.("+h[d.XRANGEIDENTIFIER]+")(?:\\.("+h[d.XRANGEIDENTIFIER]+")(?:"+h[d.PRERELEASE]+")?"+h[d.BUILD]+"?)?)?";w("XRANGEPLAINLOOSE");h[d.XRANGEPLAINLOOSE]="[v=\\s]*("+h[d.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+h[d.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+h[d.XRANGEIDENTIFIERLOOSE]+")(?:"+h[d.PRERELEASELOOSE]+")?"+h[d.BUILD]+"?)?)?";w("XRANGE");h[d.XRANGE]="^"+h[d.GTLT]+"\\s*"+h[d.XRANGEPLAIN]+"$";w("XRANGELOOSE");h[d.XRANGELOOSE]="^"+h[d.GTLT]+"\\s*"+h[d.XRANGEPLAINLOOSE]+"$";w("COERCE");h[d.COERCE]="(^|[^\\d])(\\d{1,"+ur+"})(?:\\.(\\d{1,"+ur+"}))?(?:\\.(\\d{1,"+ur+"}))?(?:$|[^\\d])";w("COERCERTL");ke[d.COERCERTL]=new RegExp(h[d.COERCE],"g");T[d.COERCERTL]=new RegExp(Qe(h[d.COERCE]),"g");w("LONETILDE");h[d.LONETILDE]="(?:~>?)";w("TILDETRIM");h[d.TILDETRIM]="(\\s*)"+h[d.LONETILDE]+"\\s+";ke[d.TILDETRIM]=new RegExp(h[d.TILDETRIM],"g");T[d.TILDETRIM]=new RegExp(Qe(h[d.TILDETRIM]),"g");var Sa="$1~";w("TILDE");h[d.TILDE]="^"+h[d.LONETILDE]+h[d.XRANGEPLAIN]+"$";w("TILDELOOSE");h[d.TILDELOOSE]="^"+h[d.LONETILDE]+h[d.XRANGEPLAINLOOSE]+"$";w("LONECARET");h[d.LONECARET]="(?:\\^)";w("CARETTRIM");h[d.CARETTRIM]="(\\s*)"+h[d.LONECARET]+"\\s+";ke[d.CARETTRIM]=new RegExp(h[d.CARETTRIM],"g");T[d.CARETTRIM]=new RegExp(Qe(h[d.CARETTRIM]),"g");var Ta="$1^";w("CARET");h[d.CARET]="^"+h[d.LONECARET]+h[d.XRANGEPLAIN]+"$";w("CARETLOOSE");h[d.CARETLOOSE]="^"+h[d.LONECARET]+h[d.XRANGEPLAINLOOSE]+"$";w("COMPARATORLOOSE");h[d.COMPARATORLOOSE]="^"+h[d.GTLT]+"\\s*("+h[d.LOOSEPLAIN]+")$|^$";w("COMPARATOR");h[d.COMPARATOR]="^"+h[d.GTLT]+"\\s*("+h[d.FULLPLAIN]+")$|^$";w("COMPARATORTRIM");h[d.COMPARATORTRIM]="(\\s*)"+h[d.GTLT]+"\\s*("+h[d.LOOSEPLAIN]+"|"+h[d.XRANGEPLAIN]+")";ke[d.COMPARATORTRIM]=new RegExp(h[d.COMPARATORTRIM],"g");T[d.COMPARATORTRIM]=new RegExp(Qe(h[d.COMPARATORTRIM]),"g");var Aa="$1$2$3";w("HYPHENRANGE");h[d.HYPHENRANGE]="^\\s*("+h[d.XRANGEPLAIN]+")\\s+-\\s+("+h[d.XRANGEPLAIN]+")\\s*$";w("HYPHENRANGELOOSE");h[d.HYPHENRANGELOOSE]="^\\s*("+h[d.XRANGEPLAINLOOSE]+")\\s+-\\s+("+h[d.XRANGEPLAINLOOSE]+")\\s*$";w("STAR");h[d.STAR]="(<|>)?=?\\s*\\*";for(le=0;le<hi;le++)A(le,h[le]),ke[le]||(ke[le]=new RegExp(h[le]),T[le]=new RegExp(Qe(h[le])));var le;E.parse=xe;function xe(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof g)return e;if(typeof e!="string"||e.length>Ye)return null;var r=t.loose?T[d.LOOSE]:T[d.FULL];if(!r.test(e))return null;try{return new g(e,t)}catch{return null}}E.valid=ba;function ba(e,t){var r=xe(e,t);return r?r.version:null}E.clean=Ia;function Ia(e,t){var r=xe(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}E.SemVer=g;function g(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof g){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Ye)throw new TypeError("version is longer than "+Ye+" characters");if(!(this instanceof g))return new g(e,t);A("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?T[d.LOOSE]:T[d.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Ot||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ot||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ot||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<Ot)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}g.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};g.prototype.toString=function(){return this.version};g.prototype.compare=function(e){return A("SemVer.compare",this.version,this.options,e),e instanceof g||(e=new g(e,this.options)),this.compareMain(e)||this.comparePre(e)};g.prototype.compareMain=function(e){return e instanceof g||(e=new g(e,this.options)),Pe(this.major,e.major)||Pe(this.minor,e.minor)||Pe(this.patch,e.patch)};g.prototype.comparePre=function(e){if(e instanceof g||(e=new g(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(A("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Pe(r,n)}while(++t)};g.prototype.compareBuild=function(e){e instanceof g||(e=new g(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(A("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Pe(r,n)}while(++t)};g.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};E.inc=Pa;function Pa(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new g(e,r).inc(t,n).version}catch{return null}}E.diff=xa;function xa(e,t){if(dr(e,t))return null;var r=xe(e),n=xe(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return s}E.compareIdentifiers=Pe;var fi=/^[0-9]+$/;function Pe(e,t){var r=fi.test(e),n=fi.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}E.rcompareIdentifiers=Na;function Na(e,t){return Pe(t,e)}E.major=La;function La(e,t){return new g(e,t).major}E.minor=Da;function Da(e,t){return new g(e,t).minor}E.patch=Ca;function Ca(e,t){return new g(e,t).patch}E.compare=pe;function pe(e,t,r){return new g(e,r).compare(new g(t,r))}E.compareLoose=qa;function qa(e,t){return pe(e,t,!0)}E.compareBuild=Ua;function Ua(e,t,r){var n=new g(e,r),i=new g(t,r);return n.compare(i)||n.compareBuild(i)}E.rcompare=$a;function $a(e,t,r){return pe(t,e,r)}E.sort=ja;function ja(e,t){return e.sort(function(r,n){return E.compareBuild(r,n,t)})}E.rsort=Ma;function Ma(e,t){return e.sort(function(r,n){return E.compareBuild(n,r,t)})}E.gt=Ke;function Ke(e,t,r){return pe(e,t,r)>0}E.lt=Rt;function Rt(e,t,r){return pe(e,t,r)<0}E.eq=dr;function dr(e,t,r){return pe(e,t,r)===0}E.neq=pi;function pi(e,t,r){return pe(e,t,r)!==0}E.gte=hr;function hr(e,t,r){return pe(e,t,r)>=0}E.lte=pr;function pr(e,t,r){return pe(e,t,r)<=0}E.cmp=St;function St(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return dr(e,r,n);case"!=":return pi(e,r,n);case">":return Ke(e,r,n);case">=":return hr(e,r,n);case"<":return Rt(e,r,n);case"<=":return pr(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}E.Comparator=te;function te(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof te){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof te))return new te(e,t);e=e.trim().split(/\s+/).join(" "),A("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Ge?this.value="":this.value=this.operator+this.semver.version,A("comp",this)}var Ge={};te.prototype.parse=function(e){var t=this.options.loose?T[d.COMPARATORLOOSE]:T[d.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new g(r[2],this.options.loose):this.semver=Ge};te.prototype.toString=function(){return this.value};te.prototype.test=function(e){if(A("Comparator.test",e,this.options.loose),this.semver===Ge||e===Ge)return!0;if(typeof e=="string")try{e=new g(e,this.options)}catch{return!1}return St(e,this.operator,this.semver,this.options)};te.prototype.intersects=function(e,t){if(!(e instanceof te))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new N(e.value,t),Tt(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new N(this.value,t),Tt(e.semver,r,t));var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=St(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),l=St(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||l};E.Range=N;function N(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof N)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new N(e.raw,t);if(e instanceof te)return new N(e.value,t);if(!(this instanceof N))return new N(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}N.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};N.prototype.toString=function(){return this.range};N.prototype.parseRange=function(e){var t=this.options.loose,r=t?T[d.HYPHENRANGELOOSE]:T[d.HYPHENRANGE];e=e.replace(r,za),A("hyphen replace",e),e=e.replace(T[d.COMPARATORTRIM],Aa),A("comparator trim",e,T[d.COMPARATORTRIM]),e=e.replace(T[d.TILDETRIM],Sa),e=e.replace(T[d.CARETTRIM],Ta),e=e.split(/\s+/).join(" ");var n=t?T[d.COMPARATORLOOSE]:T[d.COMPARATOR],i=e.split(" ").map(function(s){return Ba(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new te(s,this.options)},this),i};N.prototype.intersects=function(e,t){if(!(e instanceof N))throw new TypeError("a Range is required");return this.set.some(function(r){return di(r,t)&&e.set.some(function(n){return di(n,t)&&r.every(function(i){return n.every(function(s){return i.intersects(s,t)})})})})};function di(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(s){return i.intersects(s,t)}),i=n.pop();return r}E.toComparators=Fa;function Fa(e,t){return new N(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function Ba(e,t){return A("comp",e,t),e=Va(e,t),A("caret",e),e=ka(e,t),A("tildes",e),e=Xa(e,t),A("xrange",e),e=Ha(e,t),A("stars",e),e}function k(e){return!e||e.toLowerCase()==="x"||e==="*"}function ka(e,t){return e.trim().split(/\s+/).map(function(r){return Ga(r,t)}).join(" ")}function Ga(e,t){var r=t.loose?T[d.TILDELOOSE]:T[d.TILDE];return e.replace(r,function(n,i,s,o,a){A("tilde",e,n,i,s,o,a);var l;return k(i)?l="":k(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":k(o)?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(A("replaceTilde pr",a),l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):l=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",A("tilde return",l),l})}function Va(e,t){return e.trim().split(/\s+/).map(function(r){return Wa(r,t)}).join(" ")}function Wa(e,t){A("caret",e,t);var r=t.loose?T[d.CARETLOOSE]:T[d.CARET];return e.replace(r,function(n,i,s,o,a){A("caret",e,n,i,s,o,a);var l;return k(i)?l="":k(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":k(o)?i==="0"?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(A("replaceCaret pr",a),i==="0"?s==="0"?l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(A("no pr"),i==="0"?s==="0"?l=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):l=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),A("caret return",l),l})}function Xa(e,t){return A("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return Ja(r,t)}).join(" ")}function Ja(e,t){e=e.trim();var r=t.loose?T[d.XRANGELOOSE]:T[d.XRANGE];return e.replace(r,function(n,i,s,o,a,l){A("xRange",e,n,i,s,o,a,l);var c=k(s),u=c||k(o),f=u||k(a),p=f;return i==="="&&p&&(i=""),l=t.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(u&&(o=0),a=0,i===">"?(i=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",u?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a+l):u?n=">="+s+".0.0"+l+" <"+(+s+1)+".0.0"+l:f&&(n=">="+s+"."+o+".0"+l+" <"+s+"."+(+o+1)+".0"+l),A("xRange return",n),n})}function Ha(e,t){return A("replaceStars",e,t),e.trim().replace(T[d.STAR],"")}function za(e,t,r,n,i,s,o,a,l,c,u,f,p){return k(r)?t="":k(n)?t=">="+r+".0.0":k(i)?t=">="+r+"."+n+".0":t=">="+t,k(l)?a="":k(c)?a="<"+(+l+1)+".0.0":k(u)?a="<"+l+"."+(+c+1)+".0":f?a="<="+l+"."+c+"."+u+"-"+f:a="<="+a,(t+" "+a).trim()}N.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new g(e,this.options)}catch{return!1}for(var t=0;t<this.set.length;t++)if(Ya(this.set[t],e,this.options))return!0;return!1};function Ya(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(A(e[n].semver),e[n].semver!==Ge&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}E.satisfies=Tt;function Tt(e,t,r){try{t=new N(t,r)}catch{return!1}return t.test(e)}E.maxSatisfying=Ka;function Ka(e,t,r){var n=null,i=null;try{var s=new N(t,r)}catch{return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new g(n,r))}),n}E.minSatisfying=Qa;function Qa(e,t,r){var n=null,i=null;try{var s=new N(t,r)}catch{return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new g(n,r))}),n}E.minVersion=Za;function Za(e,t){e=new N(e,t);var r=new g("0.0.0");if(e.test(r)||(r=new g("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var i=e.set[n];i.forEach(function(s){var o=new g(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||Ke(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return r&&e.test(r)?r:null}E.validRange=ec;function ec(e,t){try{return new N(e,t).range||"*"}catch{return null}}E.ltr=tc;function tc(e,t,r){return mr(e,t,"<",r)}E.gtr=rc;function rc(e,t,r){return mr(e,t,">",r)}E.outside=mr;function mr(e,t,r,n){e=new g(e,n),t=new N(t,n);var i,s,o,a,l;switch(r){case">":i=Ke,s=pr,o=Rt,a=">",l=">=";break;case"<":i=Rt,s=hr,o=Ke,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Tt(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],f=null,p=null;if(u.forEach(function(x){x.semver===Ge&&(x=new te(">=0.0.0")),f=f||x,p=p||x,i(x.semver,f.semver,n)?f=x:o(x.semver,p.semver,n)&&(p=x)}),f.operator===a||f.operator===l||(!p.operator||p.operator===a)&&s(e,p.semver))return!1;if(p.operator===l&&o(e,p.semver))return!1}return!0}E.prerelease=nc;function nc(e,t){var r=xe(e,t);return r&&r.prerelease.length?r.prerelease:null}E.intersects=ic;function ic(e,t,r){return e=new N(e,r),t=new N(t,r),e.intersects(t)}E.coerce=sc;function sc(e,t){if(e instanceof g)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(T[d.COERCE]);else{for(var n;(n=T[d.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),T[d.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;T[d.COERCERTL].lastIndex=-1}return r===null?null:xe(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var Ei=b(($,Er)=>{"use strict";var oc=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ac=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cc=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&oc(t,e,r);return ac(t,e),t},uc=$&&$.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty($,"__esModule",{value:!0});$._readLinuxVersionFile=$._getOsVersion=$._findMatch=void 0;var vi=cc(vr()),yr=Ue(),yi=require("os"),lc=require("child_process"),At=require("fs");function fc(e,t,r,n){return uc(this,void 0,void 0,function*(){let i=yi.platform(),s,o,a;for(let l of r){let c=l.version;if(yr.debug(`check ${c} satisfies ${e}`),vi.satisfies(c,e)&&(!t||l.stable===t)&&(a=l.files.find(u=>{yr.debug(`${u.arch}===${n} && ${u.platform}===${i}`);let f=u.arch===n&&u.platform===i;if(f&&u.platform_version){let p=Er.exports._getOsVersion();p===u.platform_version?f=!0:f=vi.satisfies(p,u.platform_version)}return f}),a)){yr.debug(`matched ${l.version}`),o=l;break}}return o&&a&&(s=Object.assign({},o),s.files=[a]),s})}$._findMatch=fc;function dc(){let e=yi.platform(),t="";if(e==="darwin")t=lc.execSync("sw_vers -productVersion").toString();else if(e==="linux"){let r=Er.exports._readLinuxVersionFile();if(r){let n=r.split(`
`);for(let i of n){let s=i.split("=");if(s.length===2&&(s[0].trim()==="VERSION_ID"||s[0].trim()==="DISTRIB_RELEASE")){t=s[1].trim().replace(/^"/,"").replace(/"$/,"");break}}}}return t}$._getOsVersion=dc;function hc(){let e="/etc/lsb-release",t="/etc/os-release",r="";return At.existsSync(e)?r=At.readFileSync(e).toString():At.existsSync(t)&&(r=At.readFileSync(t).toString()),r}$._readLinuxVersionFile=hc});var _i=b((sl,gi)=>{var pc=require("crypto");gi.exports=function(){return pc.randomBytes(16)}});var Ri=b((ol,Oi)=>{var wi=[];for(Ze=0;Ze<256;++Ze)wi[Ze]=(Ze+256).toString(16).substr(1);var Ze;function mc(e,t){var r=t||0,n=wi;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}Oi.exports=mc});var Ti=b((al,Si)=>{var vc=_i(),yc=Ri();function Ec(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||vc)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var s=0;s<16;++s)t[n+s]=i[s];return t||yc(i)}Si.exports=Ec});var Ii=b(re=>{"use strict";var gc=re&&re.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_c=re&&re.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wc=re&&re.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&gc(t,e,r);return _c(t,e),t},Ai=re&&re.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(re,"__esModule",{value:!0});re.RetryHelper=void 0;var bi=wc(Ue()),gr=class{constructor(t,r,n){if(t<1)throw new Error("max attempts should be greater than or equal to 1");if(this.maxAttempts=t,this.minSeconds=Math.floor(r),this.maxSeconds=Math.floor(n),this.minSeconds>this.maxSeconds)throw new Error("min seconds should be less than or equal to max seconds")}execute(t,r){return Ai(this,void 0,void 0,function*(){let n=1;for(;n<this.maxAttempts;){try{return yield t()}catch(s){if(r&&!r(s))throw s;bi.info(s.message)}let i=this.getSleepAmount();bi.info(`Waiting ${i} seconds before trying again`),yield this.sleep(i),n++}return yield t()})}getSleepAmount(){return Math.floor(Math.random()*(this.maxSeconds-this.minSeconds+1))+this.minSeconds}sleep(t){return Ai(this,void 0,void 0,function*(){return new Promise(r=>setTimeout(r,t*1e3))})}};re.RetryHelper=gr});var Ui=b(_=>{"use strict";var Oc=_&&_.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rc=_&&_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fe=_&&_.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Oc(t,e,r);return Rc(t,e),t},G=_&&_.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})},Sc=_&&_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});_.evaluateVersions=_.isExplicitVersion=_.findFromManifest=_.getManifestFromRepo=_.findAllVersions=_.find=_.cacheFile=_.cacheDir=_.extractZip=_.extractXar=_.extractTar=_.extract7z=_.downloadTool=_.HTTPError=void 0;var O=fe(Ue()),K=fe(li()),ne=fe(require("fs")),Tc=fe(Ei()),tt=fe(require("os")),oe=fe(require("path")),Pi=fe(or()),me=fe(vr()),Ac=fe(require("stream")),bc=fe(require("util")),Ve=require("assert"),xi=Sc(Ti()),Ae=tr(),Ic=Ii(),et=class extends Error{constructor(t){super(`Unexpected HTTP response: ${t}`),this.httpStatusCode=t,Object.setPrototypeOf(this,new.target.prototype)}};_.HTTPError=et;var wr=process.platform==="win32",Pc=process.platform==="darwin",xc="actions/tool-cache";function Nc(e,t,r,n){return G(this,void 0,void 0,function*(){t=t||oe.join(qi(),xi.default()),yield K.mkdirP(oe.dirname(t)),O.debug(`Downloading ${e}`),O.debug(`Destination ${t}`);let i=3,s=_r("TEST_DOWNLOAD_TOOL_RETRY_MIN_SECONDS",10),o=_r("TEST_DOWNLOAD_TOOL_RETRY_MAX_SECONDS",20);return yield new Ic.RetryHelper(i,s,o).execute(()=>G(this,void 0,void 0,function*(){return yield Lc(e,t||"",r,n)}),l=>!(l instanceof et&&l.httpStatusCode&&l.httpStatusCode<500&&l.httpStatusCode!==408&&l.httpStatusCode!==429))})}_.downloadTool=Nc;function Lc(e,t,r,n){return G(this,void 0,void 0,function*(){if(ne.existsSync(t))throw new Error(`Destination file path ${t} already exists`);let i=new Pi.HttpClient(xc,[],{allowRetries:!1});r&&(O.debug("set auth"),n===void 0&&(n={}),n.authorization=r);let s=yield i.get(e,n);if(s.message.statusCode!==200){let u=new et(s.message.statusCode);throw O.debug(`Failed to download from "${e}". Code(${s.message.statusCode}) Message(${s.message.statusMessage})`),u}let o=bc.promisify(Ac.pipeline),l=_r("TEST_DOWNLOAD_TOOL_RESPONSE_MESSAGE_FACTORY",()=>s.message)(),c=!1;try{return yield o(l,ne.createWriteStream(t)),O.debug("download complete"),c=!0,t}finally{if(!c){O.debug("download failed");try{yield K.rmRF(t)}catch(u){O.debug(`Failed to delete '${t}'. ${u.message}`)}}}})}function Dc(e,t,r){return G(this,void 0,void 0,function*(){Ve.ok(wr,"extract7z() not supported on current OS"),Ve.ok(e,'parameter "file" is required'),t=yield bt(t);let n=process.cwd();if(process.chdir(t),r)try{let s=["x",O.isDebug()?"-bb1":"-bb0","-bd","-sccUTF-8",e],o={silent:!0};yield Ae.exec(`"${r}"`,s,o)}finally{process.chdir(n)}else{let i=oe.join(__dirname,"..","scripts","Invoke-7zdec.ps1").replace(/'/g,"''").replace(/"|\n|\r/g,""),s=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),o=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),l=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",`& '${i}' -Source '${s}' -Target '${o}'`],c={silent:!0};try{let u=yield K.which("powershell",!0);yield Ae.exec(`"${u}"`,l,c)}finally{process.chdir(n)}}return t})}_.extract7z=Dc;function Cc(e,t,r="xz"){return G(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'file' is required");t=yield bt(t),O.debug("Checking tar --version");let n="";yield Ae.exec("tar --version",[],{ignoreReturnCode:!0,silent:!0,listeners:{stdout:l=>n+=l.toString(),stderr:l=>n+=l.toString()}}),O.debug(n.trim());let i=n.toUpperCase().includes("GNU TAR"),s;r instanceof Array?s=r:s=[r],O.isDebug()&&!r.includes("v")&&s.push("-v");let o=t,a=e;return wr&&i&&(s.push("--force-local"),o=t.replace(/\\/g,"/"),a=e.replace(/\\/g,"/")),i&&(s.push("--warning=no-unknown-keyword"),s.push("--overwrite")),s.push("-C",o,"-f",a),yield Ae.exec("tar",s),t})}_.extractTar=Cc;function qc(e,t,r=[]){return G(this,void 0,void 0,function*(){Ve.ok(Pc,"extractXar() not supported on current OS"),Ve.ok(e,'parameter "file" is required'),t=yield bt(t);let n;r instanceof Array?n=r:n=[r],n.push("-x","-C",t,"-f",e),O.isDebug()&&n.push("-v");let i=yield K.which("xar",!0);return yield Ae.exec(`"${i}"`,Vc(n)),t})}_.extractXar=qc;function Uc(e,t){return G(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'file' is required");return t=yield bt(t),wr?yield $c(e,t):yield jc(e,t),t})}_.extractZip=Uc;function $c(e,t){return G(this,void 0,void 0,function*(){let r=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),n=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),i=yield K.which("pwsh",!1);if(i){let o=["-NoLogo","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",["$ErrorActionPreference = 'Stop' ;","try { Add-Type -AssemblyName System.IO.Compression.ZipFile } catch { } ;",`try { [System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${n}', $true) }`,`catch { if (($_.Exception.GetType().FullName -eq 'System.Management.Automation.MethodException') -or ($_.Exception.GetType().FullName -eq 'System.Management.Automation.RuntimeException') ){ Expand-Archive -LiteralPath '${r}' -DestinationPath '${n}' -Force } else { throw $_ } } ;`].join(" ")];O.debug(`Using pwsh at path: ${i}`),yield Ae.exec(`"${i}"`,o)}else{let o=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",["$ErrorActionPreference = 'Stop' ;","try { Add-Type -AssemblyName System.IO.Compression.FileSystem } catch { } ;",`if ((Get-Command -Name Expand-Archive -Module Microsoft.PowerShell.Archive -ErrorAction Ignore)) { Expand-Archive -LiteralPath '${r}' -DestinationPath '${n}' -Force }`,`else {[System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${n}', $true) }`].join(" ")],a=yield K.which("powershell",!0);O.debug(`Using powershell at path: ${a}`),yield Ae.exec(`"${a}"`,o)}})}function jc(e,t){return G(this,void 0,void 0,function*(){let r=yield K.which("unzip",!0),n=[e];O.isDebug()||n.unshift("-q"),n.unshift("-o"),yield Ae.exec(`"${r}"`,n,{cwd:t})})}function Mc(e,t,r,n){return G(this,void 0,void 0,function*(){if(r=me.clean(r)||r,n=n||tt.arch(),O.debug(`Caching tool ${t} ${r} ${n}`),O.debug(`source dir: ${e}`),!ne.statSync(e).isDirectory())throw new Error("sourceDir is not a directory");let i=yield Li(t,r,n);for(let s of ne.readdirSync(e)){let o=oe.join(e,s);yield K.cp(o,i,{recursive:!0})}return Di(t,r,n),i})}_.cacheDir=Mc;function Fc(e,t,r,n,i){return G(this,void 0,void 0,function*(){if(n=me.clean(n)||n,i=i||tt.arch(),O.debug(`Caching tool ${r} ${n} ${i}`),O.debug(`source file: ${e}`),!ne.statSync(e).isFile())throw new Error("sourceFile is not a file");let s=yield Li(r,n,i),o=oe.join(s,t);return O.debug(`destination file ${o}`),yield K.cp(e,o),Di(r,n,i),s})}_.cacheFile=Fc;function Bc(e,t,r){if(!e)throw new Error("toolName parameter is required");if(!t)throw new Error("versionSpec parameter is required");if(r=r||tt.arch(),!Or(t)){let i=Ni(e,r);t=Ci(i,t)}let n="";if(t){t=me.clean(t)||"";let i=oe.join(It(),e,t,r);O.debug(`checking cache: ${i}`),ne.existsSync(i)&&ne.existsSync(`${i}.complete`)?(O.debug(`Found tool in cache ${e} ${t} ${r}`),n=i):O.debug("not found")}return n}_.find=Bc;function Ni(e,t){let r=[];t=t||tt.arch();let n=oe.join(It(),e);if(ne.existsSync(n)){let i=ne.readdirSync(n);for(let s of i)if(Or(s)){let o=oe.join(n,s,t||"");ne.existsSync(o)&&ne.existsSync(`${o}.complete`)&&r.push(s)}}return r}_.findAllVersions=Ni;function kc(e,t,r,n="master"){return G(this,void 0,void 0,function*(){let i=[],s=`https://api.github.com/repos/${e}/${t}/git/trees/${n}`,o=new Pi.HttpClient("tool-cache"),a={};r&&(O.debug("set auth"),a.authorization=r);let l=yield o.getJson(s,a);if(!l.result)return i;let c="";for(let f of l.result.tree)if(f.path==="versions-manifest.json"){c=f.url;break}a.accept="application/vnd.github.VERSION.raw";let u=yield(yield o.get(c,a)).readBody();if(u){u=u.replace(/^\uFEFF/,"");try{i=JSON.parse(u)}catch{O.debug("Invalid json")}}return i})}_.getManifestFromRepo=kc;function Gc(e,t,r,n=tt.arch()){return G(this,void 0,void 0,function*(){return yield Tc._findMatch(e,t,r,n)})}_.findFromManifest=Gc;function bt(e){return G(this,void 0,void 0,function*(){return e||(e=oe.join(qi(),xi.default())),yield K.mkdirP(e),e})}function Li(e,t,r){return G(this,void 0,void 0,function*(){let n=oe.join(It(),e,me.clean(t)||t,r||"");O.debug(`destination ${n}`);let i=`${n}.complete`;return yield K.rmRF(n),yield K.rmRF(i),yield K.mkdirP(n),n})}function Di(e,t,r){let i=`${oe.join(It(),e,me.clean(t)||t,r||"")}.complete`;ne.writeFileSync(i,""),O.debug("finished caching tool")}function Or(e){let t=me.clean(e)||"";O.debug(`isExplicit: ${t}`);let r=me.valid(t)!=null;return O.debug(`explicit? ${r}`),r}_.isExplicitVersion=Or;function Ci(e,t){let r="";O.debug(`evaluating ${e.length} versions`),e=e.sort((n,i)=>me.gt(n,i)?1:-1);for(let n=e.length-1;n>=0;n--){let i=e[n];if(me.satisfies(i,t)){r=i;break}}return r?O.debug(`matched: ${r}`):O.debug("match not found"),r}_.evaluateVersions=Ci;function It(){let e=process.env.RUNNER_TOOL_CACHE||"";return Ve.ok(e,"Expected RUNNER_TOOL_CACHE to be defined"),e}function qi(){let e=process.env.RUNNER_TEMP||"";return Ve.ok(e,"Expected RUNNER_TEMP to be defined"),e}function _r(e,t){let r=global[e];return r!==void 0?r:t}function Vc(e){return Array.from(new Set(e))}});var j=ve(Ue()),$i=ve(tr()),ji=ve(or()),be=ve(Ui()),Rr=ve(require("path")),Wc=new ji.HttpClient("depot-use-action");async function Xc(){let e=j.getInput("version"),{url:t,resolvedVersion:r}=await Jc(e),n=be.find("depot",r);n||(n=await Hc(t,r)),j.addPath(n),j.info(`depot ${r} is installed`);let i=j.getInput("project");i&&j.exportVariable("DEPOT_PROJECT_ID",i);let s=j.getInput("token");s&&(j.exportVariable("DEPOT_TOKEN",s),j.setSecret(s)),await $i.exec(Rr.join(n,"depot"),["configure-docker"],{env:{...process.env,DEPOT_PROJECT_ID:process.env.DEPOT_PROJECT_ID??i,DEPOT_TOKEN:process.env.DEPOT_TOKEN??s}})}async function Jc(e){let r=await(await Wc.get(`https://dl.depot.dev/cli/release/${process.platform}/${process.arch}/${e}`)).readBody(),n=JSON.parse(r);if(!n.ok)throw new Error(n.error);let i=n.url.match(/cli\/releases\/download\/v(\d+\.\d+\.\d+)/),s=i?i[1]:e;return{url:n.url,resolvedVersion:s}}async function Hc(e,t){let r=await be.downloadTool(e),n=await be.extractTar(r);return await be.cacheDir(Rr.join(n,"bin"),"depot",t)}Xc().catch(e=>{e instanceof Error?j.setFailed(e.message):j.setFailed(`${e}`)});
